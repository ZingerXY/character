'use strict';
/*
0.Название, 1.Описание,
2.Уровней перка, 3.Мин.ур. взятия, 4.Макс.ур. взятия
5.Функция взятия перка, 6.Функция удаления перка, 7.Требования
*/
var perk = {	//(перк, уровней перка, мин уровень взятия, максимальный уровень взятия, [требования])
	PE_BONUS_HTH_ATTACKS: ["Доп. рукопашн. атаки", "Вы знакомы с тайными боевыми искусствами востока, и очень быстро дерётесь. Ваши рукопашные атаки занимают на 1 Очко Действия меньше.",
		1, 15, 29,
		function () {},
		function () {},
		{stats: {AGI: 6}}],
	PE_BONUS_HTH_DAMAGE: ["Доп. рукопашн. повр.", "Большой опыт рукопашных схваток научил вас уделять внимание наносимым повреждениям. За каждый уровень этой способности вы получаете +3 к Рукопашным повреждениям.",
		3, 32, 99,
		function () {pr.add("feats", "mdmg", 3); },
		function () {pr.add("feats", "mdmg", -3); },
		{stats: {AGI: 6, STR: 6}, classes: {5: false, 4: false, 1: false}}],
	PE_BONUS_MOVE: ["Бонус движения", "За каждый уровень этой способности, раз в 10 секунд вы можете восполнить 1 Очко Действия. При использовании стимулятора у вас есть шанс восстановить 1 ОД.",
		2, 2, 29,
		function () {},
		function () {},
		{stats: {AGI: 5}}],
	PE_BONUS_RANGED_DAMAGE: ["Бонус точности", "Ваши тренировки в обращении со стрелковым оружием сделали свое дело. Выстрелы очередью приносят больше урона((15+Удача*2)%).",
		1, 6, 29,
		function () {},
		function () {},
		{classes: {0: false, 2: true}}],
	PE_BONUS_RATE_OF_FIRE: ["Бонус скорости", "Вы нажимаете на курок немного быстрее. Время, расходуемое на неприцельную атаку меньше на 1 ОД. Данная способность не распространяется на класс Инженерного оружия.",
		1, 15, 29,
		function () {},
		function () {},
		{stats: {AGI: 7, INT: 6, PER: 6}}],
	PE_EARLIER_SEQUENCE: ["Быстрая реакция", "Враги всегда будут ошибаться, ведь прав тот, кто выстрелил первым. Поэтому ваш Порядок действий увеличивается на 4 с каждым уровнем этой способности.",
		2, 2, 29,
		function () {pr.add("feats", "proc", 4); },
		function () {pr.add("feats", "proc", -4); },
		{stats: {PER: 7}}],
	PE_FASTER_HEALING: ["Быстрое лечение", "Вы получаете +20 к Уровню лечения, таким образом, ваши раны быстрее заживают. Восстановление 1\\4 максимальных ОД при исцелении Санитаром. Использование препаратов на 100мс быстрей.",
		1, 6, 29,
		function () {pr.add("feats", "levh", 20); },
		function () {pr.add("feats", "levh", -20); },
		{stats: {ENU: 8}}],
	PE_MORE_CRITICALS: ["Больше крит. атак", "Вероятность нанесения Критических повреждений противнику увеличена на 10%.",
		1, 2, 29,
		function () {pr.add("feats", "crit", 10); },
		function () {pr.add("feats", "crit", -10); },
		{stats: {PER: 6}, classes: {5: false, 7: false}}],
	PE_NIGHT_VISION: ["Иммунитет", "У вас очень высокий иммунитет. Из конечного урона по вам вычитается величина вашей природной Силы.",
		1, 15, 29,
		function () {},
		function () {},
		{stats: {STR: 6, INT: 8}, classes: {6: false, 4: false}}],
	PE_PRESENCE: ["Охранник", "Вы находитесь в своем городе, а дома и стены помогают. Вы получаете +4% ко всем Резистам.",
		1, 1, 1,
		function () {for(var i in resist)pr.addr(i, 0, 4); },
		function () {for(var i in resist)pr.addr(i, 0, -4); },
		{}],
	PE_RAD_RESISTANCE: ["Уст. к радиации", "Вы лучше переносите сильное воздействие радиации на организм. Каждый уровень этой способности добавляет +10% к Устойчивости к радиации.",
		2, 32, 99,
		function () {pr.add("feats", "srad", 10); },
		function () {pr.add("feats", "srad", -10); },
		{stats: {ENU: 6, INT: 4}}],
	PE_TOUGHNESS: ["Крутизна", "Крутизна позволяет чувствовать себя под защитой. Вы получаете +2 к трешхолдам, +10% к резистам.",
		1, 6, 29,
		function () {for(var i in resist) pr.addr(i, 2, 10); },
		function () {for(var i in resist) pr.addr(i, -2, -10); },
		{stats: {ENU: 8, STR: 6}, classes: {0: false, 5: true}}],
	PE_STRONG_BACK: ["Переноска", "Прибавляет 100 кг к Максимальному весу и +40% к Атлетизму. Дает отдельный шанс 33% избежать опрокидывания.",
		1, 2, 29,
		function () {pr.add("feats", "maxl", 100);pr.add("skills", "speed", 40, 1); },
		function () {pr.add("feats", "maxl", -100);pr.add("skills", "speed", -40, 1); },
		{stats: {STR: 6, ENU: 6}}],
	PE_SHARPSHOOTER: ["Меткость", "Искусство попадать в цель с большого расстояния. При определении дистанции вы получаете +2 к Восприятию и +6 к Дальности обзора.",
		1, 6, 29,
		function () {pr.add("feats", "oview", 6);if(stats.PER[2]<4)mychar.stats.PER[1]+=2},
		function () {pr.add("feats", "oview", -6);if(mychar.stats.PER[1]>=2)mychar.stats.PER[1]-=2},
		{stats: {INT: 6, PER: 1}}],
	PE_SILENT_RUNNING: ["Бесшумный бег", "Теперь вы будете двигаться быстро, не издавая больше шума. Ранее это было совершенно неосуществимо в силу технических причин. Несовместим с перком - Снайпер.",
		1, 12, 29,
		function () {},
		function () {},
		{perks: {PE_SNIPER: 1, PE_ATTACK: 1, PE_TERMINATOR: 1}, classes: {0: false, 1: true}}],
	PE_SURVIVALIST: ["Исследователь", "Привычка к долгой жизни в пустыне выработала у вас невероятную живучесть. С каждым уровнем этой способности вы получаете +10% к навыку Скиталец.",
		3, 32, 99,
		function () {pr.add("skills", "ranger", 10, 1); },
		function () {pr.add("skills", "ranger", -10, 1); },
		{stats: {ENU: 6, INT: 6}, skills: {ranger: 40}}],
	PE_MASTER_TRADER: ["Торговля", "Вы стараетесь покупать товары по низким ценам, торгуясь до изнеможения. Вам даётся 25% скидка при покупке товаров.",
		1, 32, 99,
		function () {},
		function () {},
		{skills: {trade: 200}}],
	PE_EDUCATED: ["Образование", "У вас отличное образование. Вы получаете +50 очков распределения.",
		1, 2, 29,
		function () {charp.points+= 50; },
		function () {},
		{}],
	PE_HEALER: ["Лечение", "Вы получаете +40 ОЖ бонуса при использовании санитара, и +20 дополнительное если в доп. слоте есть аптечка или докторская сумка. +20 к лечению товарища санитаром или наоборот.",
		1, 9, 29,
		function () {},
		function () {},
		{skills: {orderly: 40}}],
	PE_FORTUNE_FINDER: ["Воодушевление", "Каждый Уворот от вражеской атаки прибавляет вам +1 ОД. Увеличивает Уворот на Ловкость%. Если ОЖ меньше трети от максимума, вы не получаете криты.",
		1, 12, 29,
		function () {pr.add("feats", "dodge", stats.AGI[2]); },
		function () {pr.add("feats", "dodge", stats.AGI[2]); },
		{classes: {0: false, 4: true}}],
	PE_BETTER_CRITICALS: ["Лучшие крит. атаки", "Причиняемые вашему противнику Критические удары более смертоносны. Вы получаете (10+Удача)% бонус для возможных Крит. повреждений, хотя Вероятность их нанесения не увеличивается.",
		1, 9, 29,
		function () {},
		function () {},
		{stats: {PER: 6, AGI: 4}, classes: {5: false, 7: false}}],
	PE_EMPATHY: ["Двуличный", "Люди даже не подозревают, что может скрывать приятная внешность. Наносимые вами повреждения увеличиваются на 6 едениц.",
		1, 6, 29,
		function () {},
		function () {},
		{stats: {CHA: 6}, classes: {5: false, 4: false, 1: false}}],
	PE_SLAYER: ["Дробила", "Все атаки ближнего боя (рукопашная и холодное оружие) - критические (100% шанс на критический урон в ближнем бою). Шанс избежать критического попадания - 10%.",
		1, 15, 29,
		function () {},
		function () {},
		{stats: {AGI: 6, STR: 7}, skills: {melee: 100}, traits: {TRAIT_GOOD_NATURED: 1}, classes: {5: false, 1: false, 7: false}}],
	PE_SNIPER: ["Снайпер", "Шанс нанести Крит увеличивается на 40%. -1 ОД на прицельный выстрел. При одиночном прицельном выстреле может выбить дополнительный урон.",
		1, 15, 29,
		function () {pr.add("feats", "crit", 40); },
		function () {pr.add("feats", "crit", -40); },
		{perks: {PE_ATTACK: 1, PE_SILENT_RUNNING: 1, PE_TERMINATOR: 1, PE_DEFENCE: 1, PE_COWBOY: 1, PE_ADEPTGLOW: 1}, traits: {TRAIT_GOOD_NATURED: 1}, classes: {1: false, 5: false, 7: false}}],
	PE_SILENT_DEATH: ["Хитрость", "Вы хитры в своих действиях. +25 хп, +5 к увороту, +50 к атлетизму. Уходя в сник, вы выходите из боевого режима, при условии, что вы одеты в кожанку (боевая).",
		1, 15, 29,
		function () {pr.add("feats", "live", 25);pr.add("feats", "dodge", 5);pr.add("skills", "speed", 50, 1); },
		function () {pr.add("feats", "live", -25);pr.add("feats", "dodge", -5);pr.add("skills", "speed", -50, 1); },
		{stats: {AGI: 7}, skills: {sneak: 100, steal: 200}, traits: {TRAIT_HEAVY_HANDED: 0}}],
	PE_ACTION_BOY: ["Человек действия", "Человек действия все операции совершает бегом, наподобие новобранца. Это придает ему дополнительных 2 Очка Действия, которые можно использовать в любых целях.",
		1, 6, 29,
		function () {pr.add("feats", "apoi", 1); },
		function () {pr.add("feats", "apoi", -1); },
		{stats: {AGI: 6}, classes: {5: false}}],
	PE_MENTAL_BLOCK: ["Стойкость", "Вам добавляется 120 очков жизни.",
		1, 12, 29,
		function () {pr.add("feats", "live", 120); },
		function () {pr.add("feats", "live", -120); },
		{stats: {STR: 8, INT: 8}, perks: {PE_BIGSKIN: 1}, traits: {TRAIT_SEX_APPEAL: 1}, classes: {0: false, 5: true}}],
	PE_LIFEGIVER: ["Сила жизни", "Вы получаете дополнительно +60 Очков жизней. Xоть это и немного, всякое случается, а вдруг пригодится.",
		1, 15, 29,
		function () {pr.add("feats", "live", 60); },
		function () {pr.add("feats", "live", -60); },
		{stats: {ENU: 4}}],
	PE_DODGER: ["Увертливость", "Во время боя в вас будет гораздо сложнее попасть. Независимо от одетых на вас в этот момент доспехов, вы получаете +5 к Классу Брони и 10% к Увороту.",
		1, 6, 29,
		function () {pr.add("feats", "dodge", 10); },
		function () {pr.add("feats", "dodge", -10); },
		{classes: {0: false, 4: true}}],
	PE_SNAKEATER: ["Змееглот", "Любые отравляющие вещества действуют на вас крайне ослаблено. Каждый уровень этой способности добавляет +10% к Устойчивости к яду.",
		2, 32, 99,
		function () {pr.add("feats", "stox", 10); },
		function () {pr.add("feats", "stox", -10); },
		{stats: {ENU: 3}}],
	PE_MR_FIXIT: ["Самоделкин", "Данная способность дает вам бонус к навыкам Наука 20% и Ремонт на 10%, а также возможность определять количество поломок амуниции.",
		1, 2, 32,
		function () {pr.add("skills", "repair", 10, 1);pr.add("skills", "science", 20, 1); },
		function () {pr.add("skills", "repair", -10, 1);pr.add("skills", "science", -20, 1); },
		{skills: {repair: 40, science: 40}}],
	PE_MEDIC: ["Медик", "Знание медицины дает вам бонус к навыкам Санитар и Доктор на 10%. Хорошее лечение - залог успеха.",
		1, 2, 32,
		function () {pr.add("skills", "orderly", 10, 1);pr.add("skills", "doctor", 10, 1); },
		function () {pr.add("skills", "orderly", -10, 1);pr.add("skills", "doctor", -10, 1); },
		{skills: {orderly: 40, doctor: 40}}],
	PE_MASTER_THIEF: ["Вор-профессионал", "+40 Воровства и Взлом замков. У вас не ломаются отмычки при взломе. Регенерация в снике каждые 10 сек. При воровстве 200 можно открывать ящики монтировкой.",
		1, 9, 29,
		function () {pr.add("skills", "steal", 40, 1);pr.add("skills", "hack", 40, 1); },
		function () {pr.add("skills", "steal", -40, 1);pr.add("skills", "hack", -40, 1); },
		{skills: {hack: 150}}],
	PE_SPEAKER: ["Болтливость", "Болтун - находка для врага! С каждым уровнем этой способности вы получаете +10% к навыку Красноречие.",
		1, 32, 99,
		function () {pr.add("skills", "oratory", 10, 1); },
		function () {pr.add("skills", "oratory", -10, 1); },
		{stats: {INT: 4}}],
	PE_HEAVE_HO: ["Счастливчик", "При ролле крита по вам добавляется Удача. Попадание в вас с шансом (Удача+8-Удача противника)% не нанесет урона. Доктором можно восстановить все ОД и ОЖ (шанс Удача%). Игнор силы при Метании.",
		1, 6, 29,
		function () {},
		function () {},
		{stats: {LUC: 3}, classes: {6: false, 4: false}}],
	PE_FRIENDLY_FOE: ["Фанат дробовиков", "Вас с детства тянет к дробовикам (+30% к Легкому оружию, +20% к Ремонту). При выстреле с дробовика, при очереди, добавляется +4 к каждой пуле, при одиночном +10 к конечному урону.",
		1, 6, 29,
		function () {pr.add("skills", "light", 30, 1);pr.add("skills", "repair", 20, 1); },
		function () {pr.add("skills", "light", -30, 1);pr.add("skills", "repair", -20, 1); },
		{stats: {INT: 6}, skills: {light: 160}, classes: {5: false, 4: false, 1: false}}],
	PE_PICKPOCKET: ["Карманник", "Ваши способности шарить по чужим карманам увеличиваются. Теперь вы можете не обращать внимание на направление взгляда и размер одежды вашего клиента.",
		1, 32, 99,
		function () {},
		function () {},
		{stats: {AGI: 8}, skills: {steal: 80}}],
	PE_GHOST: ["Привидение", "Вы научились быть более незаметным, словно призрак. Вы восполняете 1 ОД раз в 10 секунд. Также получаете +40% к Скрытности.",
		1, 6, 29,
		function () {pr.add("skills", "sneak", 40, 1); },
		function () {pr.add("skills", "sneak", -40, 1); },
		{skills: {sneak: 100}, classes: {0: false, 1: true}}],
	PE_CULT_OF_PERSONALITY: ["Отличник", "Вы отлично учились и многое усвоили. -6 Урона по вам от типов урона Плазма, Электричество. Дает иммунитет к сжиганию ОД.",
		1, 2, 29,
		function () {},
		function () {},
		{stats: {PER: 7}, classes: {6: false, 4: false}}],
	PE_SCROUNGER: ["Полевой медик", "Вы обладаете огромными знаниями по медицине. +20% к навыку Санитар, +30% к навыку Доктор. +3 Удачи при лечении навыком Санитар. -2 сек. кд. санитара если вы лечите дугого или другой вас.",
		1, 12, 29,
		function () {pr.add("skills", "orderly", 20, 1);pr.add("skills", "doctor", 30, 1); },
		function () {pr.add("skills", "orderly", -20, 1);pr.add("skills", "doctor", -30, 1); },
		{skills: {orderly: 120, doctor: 100}}],
	PE_EXPLORER: ["Непоседа", "Смысл жизни непоседы заключается в поисках новых, интересных мест. Ваши шансы найти нечто необычное увеличиваются, как и Очки жизней (Сила*5).",
		1, 6, 29,
		function () {pr.add("feats", "live", stats.STR[2]*5); },
		function () {pr.add("feats", "live", -stats.STR[2]*5); },
		{}],
	PE_FLOWER_CHILD: ["Полевой санитар", "Восстановление навыка Санитар меньше на 4 секунды. При лечении санитаром добавляются (ИН+УД)*2 дополнительные ХП, а также можно восстановить все ХП с шансом (Удача*4).",
		1, 6, 29,
		function () {},
		function () {},
		{skills: {orderly: 60, doctor: 40}}],
	PE_PATHFINDER: ["Следопыт", "Следопыт всегда находит кратчайший путь до места назначения. С этим бонусом время ваших переходов по Глобальной Карте уменьшено на 25%.",
		1, 2, 32,
		function () {},
		function () {},
		{stats: {ENU: 6}, skills: {ranger: 40}}],
	PE_ANIMAL_FRIEND: ["Удачный промах", "+1 Очко Действия. -0,2 секунды к восстановлению полоски ОД. (Удача)% шанс восстановить (Точность атакующего/10)ОД при промахе по вам или увороте. Если шанс не выпал вы восстановите 1 ОД.",
		1, 12, 29,
		function () {pr.add("feats", "apoi", 1); },
		function () {pr.add("feats", "apoi", -1); },
		{stats: {PER: 6, LUC: 2}, classes: {6: false}}],
	PE_SCOUT: ["Скаут", "Увеличивает на одну клетку радиус трекинга и открытия черных клеток Глобальной Карты. Увеличивает шанс найти уникальную локацию.",
		1, 32, 99,
		function () {},
		function () {},
		{stats: {ENU: 8}}],
	PE_MYSTERIOUS_STRANGER: ["Ветеран", "Жизненный опыт дает вам +30 ОЖ. Ваша меткость при прицельной атаке максимальная и каждое попадание вешает усталость на цель. В защите вы имеете +10 Класса Брони(не прибавляется к основному значению).",
		1, 12, 29,
		function () {pr.add("feats", "live", 30); },
		function () {pr.add("feats", "live", -30); },
		{stats: {LUC: 2}}],
	PE_RANGER: ["Рейнджер", "Ваш навык Скиталец повышается на 15%. Увеличивается вероятность избежать встреч в пустыне или наоборот - отыскать там что-то полезное.",
		1, 32, 99,
		function () {pr.add("skills", "ranger", 15, 1); },
		function () {pr.add("skills", "ranger", -15, 1); },
		{stats: {PER: 6}}],
	PE_QUICK_POCKETS: ["Оптимизация", "Ваши вещи всегда под рукой. -1 ОД на перезарядку. 40% шанс получить 1 ОД при перезарядке. 25% шанс получить 1 Од при использовании предметов.",
		1, 2, 29,
		function () {},
		function () {},
		{stats: {AGI: 5}}],
	PE_SMOOTH_TALKER: ["Опыт торговли", "Ваш опыт торговли (0-300). При малом опыте вы все равно будете покупать дорого. Опыт торговли не может превышать ваш навык Торговли.",
		1, 1, 1,
		function () {},
		function () {},
		{}],
	PE_SWIFT_LEARNER: ["Самоучка", "Вы можете извлекать из всего большую пользу, чем кто-либо другой. С каждым уровнем этой способности вы получаете на 15% больше опыта.",
		3, 2, 29,
		function () {},
		function () {},
		{stats: {INT: 6}}],
	PE_TAG: ["Математик", "Вы все досконально просчитываете. В бою вы получаете +30 к используемому навыку и уменьшаете штраф от дыма на 15, а укрытий на 10. В то же время получая +10 к укрытиям и +15 к дыму когда вы атакованы.",
		1, 12, 29,
		function () {},
		function () {},
		{stats: {INT: 7, LUC: 2}, skills: {science: 200}}],
	PE_MUTATE: ["Мутация", "Радиация пустыни изменила вас! Вы получаете +20 Очков жизней и +100 очков распределения.",
		1, 12, 29,
		function () {pr.add("feats", "live", 20);charp.points+= 100; },
		function () {pr.add("feats", "live", -20); },
		{stats: {STR: 3, ENU: 5}}],
	PE_BOOKWORM: ["Регенерация", "Пассивное восстановление ОЖ в режиме боя. Тик регенерации 10 секунд. При использовании доктора дает бонус +100 к навыку. +20 Уровень лечения.",
		1, 12, 29,
		function () {pr.add("feats", "levh", 20); },
		function () {pr.add("feats", "levh", -20); },
		{stats: {CHA: 5, INT: 6}}],
	PE_AWARENESS: ["Осведомленность", "Вы замечаете больше деталей в окружающем вас мире и людях. Можно увидеть количество Очков здоровья у противника и тип его оружия.",
		1, 2, 29,
		function () {},
		function () {},
		{stats: {PER: 5}}],
	PE_BIVALIY: ["Крепкий Орешек", "Вы можете ослабить критический урон и эффект по вам. -((ВС*3)+СЛ) к Критроллу. При резке критурона к Удаче добавится 5. Режет критурон Нокаута и Пропуска хода с 75% до 50% и с 50% до 30% соответственно.",
		1, 12, 29,
		function () {},
		function () {},
		{classes: {5: false, 7: false}}],
	// NEW PERK >
	PE_PALESKIN: ["Эгоист", "Вы выходите из боя при применении навыка Санитар, если не отравлены и не облучены.",
		1, 2, 29,
		function () {},
		function () {},
		{stats: {CHA: 5}}],
	PE_GECKON: ["Ящерица", "У вас была терминальная стадия рака и единственным выходом было нетрадиционное лечение. Никто не знал, что инъекции стволовых клеток ящерицы обернутся таким приятным сюрпризом. Входящий по вам урон свыше 65 ед. с вероятностью 50% восстановит Сила*2 ОЖ.",
		1, 9, 29,
		function () {},
		function () {},
		{stats: {STR: 7}, classes: {6: false, 4: false}}],
	PE_GUY: ["Крутой парень", "+20 очков жизней, Игнорирование требования Силы на дальность метания. Ваша атака по сопернику и атака соперника по вам имеет шанс сжечь ему 3 Од. Сжигание ОД работает на погексовые атаки. Шанс(Порядок>Рандом(0,ПорядокПротивника+100)).",
		1, 6, 29,
		function () {},
		function () {},
		{}],
	PE_BIGSKIN: ["Толстокожий", "От типов урона норма, взрыв, импульс, плазма вы полчаете на 15% меньше повреждений.",
		1, 9, 29,
		function () {},
		function () {},
		{skills: {ranger: 220}, perks: {PE_ADEPTGLOW: 1, PE_TRAPPER: 1}, traits: {TRAIT_SEX_APPEAL: 1}, classes: {6: false, 4: false}}],
	PE_MASTERMELE: ["Мастер ближнего боя", "Шанс на атаку с эффектом малая Контузия(без Паники) если атака Рукопашным или Холодным оружием зависит от навыка Скрытность (чем меньше навык, тем выше шанс). (Восприятие + Харизма)% шанс блокировать треть урона если атака по вам на расстоянии от 10 гексов",
		1, 9, 29,
		function () {},
		function () {},
		{skills: {melee: 200}, classes: {0: false, 3: true}}],
	PE_COWBOY: ["Ковбой", "Все бонусы действуют только для огнестрельных пистолетов. Прицельные атаки вернут 1 од (если нет перка Снайпер). Шанс крита +5%. Если не в бою, то выстрел обнуляет патроны цели  в магазине. Исключает Бесшумный бег.",
		1, 6, 29,
		function () {pr.add("feats", "crit", 5); },
		function () {pr.add("feats", "crit", -5); },
		{skills: {light: 180}, stats: {AGI: 8}, perks: {PE_SNIPER: 1}, classes: {5: false, 7: false}}],
	PE_FISTRAGE: ["Критическое мышление", "Каждый выстрел увеличивает на 10% критшанс. После выпадении крита он становится равным Удаче.",
		1, 9, 29,
		function () {},
		function () {},
		{stats: {LUC: 5}, classes: {5: false, 7: false}}],
	PE_ADEPTGLOW: ["Рикошет", "Если в эффекте Цель по вам пройдет больше чем 1 выстрел, второй и последующие пройдут по касательной с рандомным (1, урон) уроном. Исключение Толстокожий и Снайпер.",
		1, 12, 29,
		function () {},
		function () {},
		{stats: {LUC: 6}, perks: {PE_BIGSKIN: 1, PE_SNIPER: 1}, classes: {6: false, 4: false}}],
	PE_FANAT: ["Фанатик", "Вы остаетесь в сознании даже получая смертельные раны. При получении такого ранения ваше здоровье останавливается на значении 1хп. По истечении 3 секунд, если ваше здоровье меньше 50% от мах, вы умираете. Кд способности 1 минута. Ислючает Стоика.",
		1, 12, 29,
		function () {},
		function () {},
		{ormode: {stats: {STR: 1, LUC: 1}},stats: {STR: 8, LUC: 8}, perks: {PE_STOIK: 1}, classes: {6: false, 4: false, 1: false}}],
	PE_STOIK: ["Стоик", "Хабологи хранят в строжайшей тайне то, что заставляет вас возвращаться к жизни вновь и вновь. При получении летального урона персонаж не умрет и восстановит здоровье по формуле (Уд+Хар)2+Вн3=%. Кд способности минута. Исключает Фаната.",
		1, 12, 29,
		function () {},
		function () {},
		{stats: {INT: 8, ENU: 10}, perks: {PE_FANAT: 1}, classes: {5: false, 6: false, 4: false, 1: false}}],
	PE_CRITTER: ["Концентрация", "Вы получаете -1 очко действия на прицельные выстрелы.",
		1, 15, 29,
		function () {},
		function () {},
		{stats: {LUC: 3}}],
	PE_TARGETING: ["Пристрелка", "При атаке одной и той же цели вы получаете +2 урона и +3 точности за каждое попадание вплоть до +10 и +15 соответственно. При смене цели бонусы пропадают.",
		1, 12, 29,
		function () {},
		function () {},
		{stats: {AGI: 8, LUC: 2}, classes: {5: false, 4: false, 1: false}}],
	PE_AVTORITET: ["Авторитет", "Если нанести урон взрывом, а потом выпустить урон очередью с 1-3 гексов, то цель получит эффект Ошарашен (с вероятностью (9+Удача-УдачаЦели)*2%).В этом эффекте цель не может применять предметы и стрелять(включается паника) и входящий урон увеличен на 25%. Эффект проходит через количество секунд равное Удаче атакера.",
		1, 15, 29,
		function () {},
		function () {},
		{classes: {5: false, 4: false, 1: false}}],
	// < NEW PERK
	PE_RAGE: ["Зарядка", "Привычка заниматься зарядкой по утрам, выработалась у вас давно. С каждым уровнем этой способности ваши Очки здоровья возрастают на 5 единицы.",
		1, 32, 99,
		function () {pr.add("feats", "live", 5); },
		function () {pr.add("feats", "live", -5); },
		{perks: {PE_HARD: 1}}],
	PE_DEFENCE: ["Рефлексы", "Ваши рефлексы повышены и неприцельно вы стреляете быстрее. -1 ОД на не прицельный выстрел. Нельзя взять Снайпера и Быстрого стрелка. Не работает с инженерным оружием.",
		1, 12, 29,
		function () {},
		function () {},
		{stats: {PER: 5, ENU: 8}, perks: {PE_SNIPER: 1}, traits: {TRAIT_FAST_SHOT: 1}}],
	PE_ATTACK: ["Неудержимый", "Вы неудержимы как... Да вас хрен остановишь! Вы получаете +ЛВ/2-1 ОД. и каждая атака с неполным здоровьем восстановит ОЖ равное вашей Удаче. Нельзя взять Снайпера, Существо и Терминатора",
		1, 15, 29,
		function () {pr.add("feats", "apoi", Math.floor(stats.AGI[2]/2-1)); },
		function () {pr.add("feats", "apoi", -Math.floor(stats.AGI[2]/2-1)); },
		{stats: {AGI: 8}, perks: {PE_SNIPER: 1, PE_TERMINATOR: 1, PE_SILENT_RUNNING: 1}, traits: {TRAIT_GOOD_NATURED: 1}, classes: {7: false, 5: false}}],
	PE_HARD: ["Закалка", "Ваш организм подготовлен к быстрому лечению в сложных условиях. С каждым уровнем этой способности ваш Уровень лечения возрастает на 6 единиц.",
		1, 32, 99,
		function () {pr.add("feats", "levh", 6); },
		function () {pr.add("feats", "levh", -6); },
		{perks: {PE_RAGE: 1}}],
	PE_VIEW: ["Репликант", "Репликация снимает все эффекты, а также становится бесплатной.",
		1, 9, 32,
		function () {},
		function () {},
		{stats: {STR: 4}}],
	PE_TRAPPER: ["Сапер", "Изучение капканов и взрывных устройст дало вам стойкость к норме и взрыву (срез урона на 25% к Норме и Взрыву). Исключает Толстокожего.",
		1, 12, 29,
		function () {},
		function () {},
		{skills: {traps: 200}, perks: {PE_BIGSKIN: 1}, classes: {6: false, 4: false}}],
	// NEW PERK >>
	PE_RAZVEDKA: ["Глаза и уши", "Вы получаете 10 Восприятия по умолчанию. Для входа в сник вам не нужны спецпредметы.",
		1, 12, 29,
		function () {mychar.stats.PER[1] += 10 - stats.PER[2];},
		function () {mychar.stats.PER[1] -= 10 - mychar.stats.PER[1];},
		{classes: {0: false, 1: true}}],
	PE_GOLEM: ["Голем", "На расстоянии 6 гексов вас не свалить.",
		1, 6, 29,
		function () {},
		function () {},
		{classes: {0: false, 3: true}}],
	PE_RAGEBER: ["Ярость", "Яростный удар валит противника на пол (кроме голема), добавляет 8 к урону и снимает 1 ОД. Кд удара 6 секунд.",
		1, 12, 29,
		function () {},
		function () {},
		{classes: {0: false, 3: true}}],
	PE_ARMOR: ["Броня", "Игнор тиков огня, плазмы и иприта.",
		1, 2, 29,
		function () {},
		function () {},
		{classes: {0: false, 5: true}}],
	// << NEW PERK
	PE_ADRENALINE_RUSH: ["Кровопийца", "Обстоятельно изучив кровь, вы получаете +25 ХП. Также каждая атака по цели восстановит (ВС*2) Очков здоровья. При использовании навыка Санитар, вы снимаете с себя эффект Нагрева.",
		1, 12, 29,
		function () {pr.add("feats", "live", 25); },
		function () {pr.add("feats", "live", -25); },
		{stats: {ENU: 7}}],
	PE_CAUTIOUS_NATURE: ["Бдительность", "Вы бдительны и настойчивы. Ваш Обзор увеличивается, а при определении положения на местности, ваше Восприятие +3 единицы. +1 ОД при промахе.",
		1, 2, 29,
		function () {pr.add("feats", "oview", 3); },
		function () {pr.add("feats", "oview", -3); },
		{stats: {PER: 6}}],
	PE_COMPREHENSION: ["Наблюдательность", "При чтении вы обращаете особенное внимание на мелкие детали (+1 Интеллект). Читая книгу, вы получаете +1% к случайному Навыку, а также +200 опыта.",
		1, 2, 29,
		function () {mychar.stats.INT[1]++; },
		function () {mychar.stats.INT[1]--; },
		{ch: true, stats: {INT: 7}}],
	PE_DEMOLITION_EXPERT: ["Эксперт подрывник", "В обращении со взрывчаткой, вы настоящий профессионал. Ваши заряды всегда детонируют вовремя, имеют большой радиус и наносят больше урона.",
		1, 32, 99,
		function () {},
		function () {},
		{stats: {AGI: 4}, skills: {traps: 75}}],
	PE_GAMBLER: ["Атлет", "Быстрее! Выше! Сильнее! Усиленные тренировки не проходят даром. +50% к навыку Атлетизм. -2 секунды выхода из боя.",
		1, 6, 29,
		function () {pr.add("skills", "speed", 50, 1); },
		function () {pr.add("skills", "speed", -50, 1); },
		{skills: {speed: 50}}],
	PE_GAIN_STRENGTH: ["Получить силу", "Этот бонус повышает на одно очко вашу Силу и добавляет +20 Очков жизней.",
		1, 6, 29,
		function () {mychar.stats.STR[1]++;pr.add("feats", "live", 20); },
		function () {mychar.stats.STR[1]--;pr.add("feats", "live", -20); },
		{ch: true, stats: {STR: 10}}],
	PE_GAIN_PERCEPTION: ["Получить восприятие", "Этот бонус повышает на одно очко ваше Восприятие и добавляет +20 Очков жизней.",
		1, 6, 29,
		function () {mychar.stats.PER[1]++;pr.add("feats", "live", 20); },
		function () {mychar.stats.PER[1]--;pr.add("feats", "live", -20); },
		{ch: true, stats: {PER: 10}}],
	PE_GAIN_ENDURANCE: ["Получить выносливость", "Этот бонус повышает на одно очко вашу Выносливость и добавляет +20 Очков жизней.",
		1, 6, 29,
		function () {mychar.stats.ENU[1]++;pr.add("feats", "live", 20); },
		function () {mychar.stats.ENU[1]--;pr.add("feats", "live", -20); },
		{ch: true, stats: {ENU: 10}}],
	PE_GAIN_CHARISMA: ["Получить харизму", "Этот бонус повышает на одно очко вашу Харизму и добавляет +20 Очков жизней.",
		1, 6, 29,
		function () {mychar.stats.CHA[1]++;pr.add("feats", "live", 20); },
		function () {mychar.stats.CHA[1]--;pr.add("feats", "live", -20); },
		{ch: true, stats: {CHA: 10}}],
	PE_GAIN_INTELLIGENCE: ["Получить интеллект", "Этот бонус повышает на одно очко ваш Интеллект и добавляет +20 Очков жизней.",
		1, 6, 29,
		function () {mychar.stats.INT[1]++;pr.add("feats", "live", 20); },
		function () {mychar.stats.INT[1]--;pr.add("feats", "live", -20); },
		{ch: true, stats: {INT: 10}}],
	PE_GAIN_AGILITY: ["Получить ловкость", "Этот бонус повышает на одно очко вашу Ловкость и добавляет +20 Очков жизней.",
		1, 6, 29,
		function () {mychar.stats.AGI[1]++;pr.add("feats", "live", 20); },
		function () {mychar.stats.AGI[1]--;pr.add("feats", "live", -20); },
		{ch: true, stats: {AGI: 10}}],
	PE_GAIN_LUCK: ["Получить удачу", "Этот бонус повышает на одно очко вашу Удачу и добавляет +20 Очков жизней.",
		1, 6, 29,
		function () {mychar.stats.LUC[1]++;pr.add("feats", "live", 20); },
		function () {mychar.stats.LUC[1]--;pr.add("feats", "live", -20); },
		{ch: true, stats: {LUC: 10}}],
	PE_HARMLESS: ["Безвредность", "Ваш невинный вид позволяет вам успешно красть у людей вещи. Вы получаете +40% к навыку Воровство.",
		1, 32, 99,
		function () {pr.add("skills", "steal", 40, 1); },
		function () {pr.add("skills", "steal", -40, 1); },
		{skills: {steal: 50}}],
	PE_HERE_AND_NOW: ["Специалист", "Вы набрались ума и получаете одно очко распределения.",
		10, 32, 99,
		function () {charp.points+=1; },
		function () {},
		{}],
	PE_HTH_EVADE: ["Верткость", "Вы чувствуете, когда надо дернуться с места, природная ловкость помогает вам в этом. Процент Уклонения от атаки увеличивается на: (МаксОД/4)+(ТекущОД/2).",
		1, 2, 29,
		function () {},
		function () {},
		{classes: {0: false, 4: true}}],
	PE_KAMA_SUTRA_MASTER: ["Спортсмен", "Занятия активными видами спорта не прошли даром. Вы получаете +40 Очков жизней и +10 к Классу Брони.",
		1, 12, 29,
		function () {pr.add("feats", "live", 40);pr.add("feats", "armc", 10); },
		function () {pr.add("feats", "live", -40);pr.add("feats", "armc", -10); },
		{stats: {STR: 8}}],
 	PE_KARMA_BEACON: ["Исполнительность", "Вы выполнили ежедневное задание и получаете бонус 20 единиц к Очкам жизней.",
		1, 1, 1,
		function () {pr.add("feats", "live", 20); },
		function () {pr.add("feats", "live", -20); },
		{}],
	PE_LIGHT_STEP: ["Легкие шаги", "Вы ловки, удачливы и всегда настороже. 50%, что ловушка на вас сработает. Урон от ловушек снижен на 50%. +15% к Резисту от Взрыва, +5 к Трешхолду Огня.",
		1, 6, 29,
		function () {pr.addr("explode", 0, 15);pr.addr("fire", 5, 0); },
		function () {pr.addr("explode", 0, -15);pr.addr("fire", -5, 0); },
		{stats: {AGI: 5}, classes: {6: false, 4: false}}],
	PE_LIVING_ANATOMY: ["Анатомия жизни", "Вы хорошо представляете себе внутреннее строение живых существ, их силы и слабости. При атаке вы наносите на 10 Урона больше. Кроме того, вы получаете +20% к навыку Доктор.",
		1, 15, 29,
		function () {pr.add("skills", "doctor", 20, 1); },
		function () {pr.add("skills", "doctor", -20, 1); },
		{stats: {PER: 7}, skills: {doctor: 80}, classes: {5: false, 4: false, 1: false}}],
	PE_MAGNETIC_PERSONALITY: ["Привлекательность", "Игрок может водить с собой в группе дополнительно 2-х человек без проверки на Харизму, но не забывайте, что больше пяти - это уже толпа.",
		1, 32, 99,
		function () {},
		function () {},
		{ch: true, stats: {CHA: 10}}],
	PE_NEGOTIATOR: ["Негоциант", "С этим умением вы можете попробовать договориться до чего угодно, имея бонус 20% к навыкам Торговля и Красноречие.",
		1, 32, 99,
		function () {pr.add("skills", "oratory", 20, 1);pr.add("skills", "trade", 20, 1); },
		function () {pr.add("skills", "oratory", -20, 1);pr.add("skills", "trade", -20, 1); },
		{skills: {trade: 200}}],
	PE_PACK_RAT: ["Запаковка", "Вы научились компактно раскладывать вещи в инвентаре. +22.65 кг к Максимальному весу.",
		1, 32, 99,
		function () {pr.add("feats", "maxl", 22); },
		function () {pr.add("feats", "maxl", -22); },
		{}],
	PE_PYROMANIAC: ["Пироманьяк", "Вы отлично управляетесь с огнем. Если тип повреждений - огонь, то: +30 бонусного урона, +15 конечного урона. Значительно усиливает эффекты поджигания.",
		1, 9, 29,
		function () {},
		function () {},
		{stats: {INT: 4}, classes: {5: false, 4: false, 1: false}}],
	PE_QUICK_RECOVERY: ["Прыгучесть", "Вы очень быстро встаете после того, как вас собьют с ног. Реакция и гибкость добавляют вам 1 Очко Действия. Несовместим с Человеком Действия.",
		1, 9, 29,
		function () {pr.add("feats", "apoi", 1); },
		function () {pr.add("feats", "apoi", -1); },
		{stats: {AGI: 5}, classes: {5: false}}],
	PE_SALESMAN: ["Продажа", "Вы умеете отлично продавать и покупать. С этой способностью вы на 40% повышаете свой навык Торговля.",
		1, 32, 99,
		function () {pr.add("skills", "trade", 40, 1); },
		function () {pr.add("skills", "trade", -40, 1); },
		{skills: {trade: 240}}],
	PE_STONEWALL: ["Человек-глыба", "Первая тычка вводящая в бой наносит вдвое меньше урона. Не действует на погекс. +50% шанс игнорировать опрокидывание, Не может выронить оружие/нельзя выбить оружие",
		1, 2, 29,
		function () {},
		function () {},
		{stats: {STR: 6}}],
	PE_THIEF: ["Вор", "В ваших жилах течет кровь истинного вора. Вы повышаете на 25% свои навыки Взлом замков, Воровство, Ловушки, а также на 10% навык Скрытность.",
		1, 2, 32,
		function () {pr.add("skills", "sneak", 10, 1);pr.add("skills", "hack", 25, 1);pr.add("skills", "steal", 25, 1);pr.add("skills", "traps", 25, 1); },
		function () {pr.add("skills", "sneak", -10, 1);pr.add("skills", "hack", -25, 1);pr.add("skills", "steal", -25, 1);pr.add("skills", "traps", -25, 1); },
		{}],
	PE_WEAPON_HANDLING: ["Обращение с оружием", "Вы можете носить и использовать оружие мощнее, чем остальные. Для этой цели ваша Сила считается на 3 единицы больше.",
		1, 2, 32,
		function () {},
		function () {},
		{stats: {AGI: 5}}],
	PE_VAULT_CITY_TRAINING: ["Стажировка в Городе-Убежище", "Вы прошли курс обучения медицине у лучших специалистов Города-Убежище.",
		1, 1, 1,
		function () {},
		function () {},
		{}],
	PE_EXPERT_EXCREMENT: ["Спец по уборке экскрементов", "Вы научились убирать дерьмо за браминами лучше, чем кто-либо.",
		1, 1, 1,
		function () {},
		function () {},
		{}],
	// NEW PERK >>
	PE_EXPERT_MEDIC: ["Опытный медик", "При лечении санитара минимум лечения берется как среднее значение первоначального максимума и минимума лечения. При расчетах получение Раны к удаче добавляется 10.",
		1, 9, 29,
		function () {},
		function () {},
		{classes: {0: false, 6: true}}],
	// << NEW PERK
	PE_JINXED_II: ["Дурной глаз", "Xорошая сторона дела заключается в том, что враги вокруг вас часто ошибаются. Плохо то, что вы ошибаетесь не меньше их!",
		1, 1, 1,
		function () {},
		function () {},
		{}],
	PE_TERMINATOR: ["Терминатор", "Все Критические эффекты противника игнорируются в зависимости от вашей Выносливости*5% и природного антикрита.",
		1, 15, 29,
		function () {},
		function () {},
		{perks: {PE_SNIPER: 1, PE_ATTACK: 1, PE_SILENT_RUNNING: 1}, traits: {TRAIT_GOOD_NATURED: 1}}],
	PE_IRON_MAN: ["Взрывотехник", "С этой способностью вы можете разминировать территорию в радиусе 1 гекс(Наука на себя), переключатели пластида действуют быстрей и есть возможность делать роботов-шахидов (детали робота+пластид).",
		1, 12, 29,
		function () {},
		function () {},
		{stats: {LUC: 5}, skills: {science: 150, traps: 200}}],
	PE_PRO_UDAR: ["Токсиколог", "+(10-(Выносливость цели/2)) к урону по НПС. При атаке оружием вы вешаете цели 20 уровня отравления. Если цель имеет больше 75% резиста к яду, то резист равен 75%. Иммунитет к контактному отравлению.",
		1, 9, 29,
		function () {},
		function () {},
		{skills: {doctor: 180}, classes: {5: false, 4: false, 1: false}}],
	PE_ADD_ATAC: ["Дополнительные атаки", "Отдача от оружия никогда не была для вас проблемой. При выстреле с вероятностью (ОД на выстрел * 10)% есть шанс восстановить 2 Очка Действия.",
		1, 15, 29,
		function () {},
		function () {},
		{stats: {AGI: 7, INT: 7}, classes: {2: false}}],
	PE_NAPROLOM: ["Бывалый", "Вы знаток оружия. +10% к навыку Легкое оружие, Тяжелое оружие, Энергетическое оружие. +15% к навыку Рукопашная и Холодное оружие.",
		1, 2, 32,
		function () {pr.add("skills", "light", 7, 1);pr.add("skills", "heavy", 7, 1);pr.add("skills", "energy", 7, 1);pr.add("skills", "thrown", 10, 1);pr.add("skills", "melee", 15, 1);pr.add("skills", "steel", 15, 1); },
		function () {pr.add("skills", "light", -7, 1);pr.add("skills", "heavy", -7, 1);pr.add("skills", "energy", -7, 1);pr.add("skills", "thrown", -10, 1);pr.add("skills", "melee", -15, 1);pr.add("skills", "steel", -15, 1); },
		{stats: {INT: 5, CHA: 1}}],
	PE_ADW_MET: ["Карман", "У вас карман стал глубже и можно добавить 1 веса.",
		10, 32, 99,
		function () {pr.add("feats", "maxl", 1)},
		function () {pr.add("feats", "maxl", -1)},
		{}],
	// NEW PERK >>
	PE_FISTSANITAR: ["Быстрый санитар", "Ваш кд Санитара на 15 секунд меньше.",
		1, 2, 29,
		function () {},
		function () {},
		{classes: {0: false, 6: true}}],
	PE_LUCKDOC: ["Удачный врач", "Вы лечите всегда на максимум.",
		1, 12, 29,
		function () {},
		function () {},
		{classes: {0: false, 6: true}}],
	PE_PRICEL: ["Прицел", "Режется штраф дыма (60-дистанция)/2, к боевому навыку добавляется 15.",
		1, 2, 29,
		function () {},
		function () {},
		{classes: {0: false, 7: true}}],
	PE_FIRESHOOT: ["Выстрел", "+5 урона, если стреляете одиночным неприцельным выстрелом.",
		1, 6, 29,
		function () {},
		function () {},
		{classes: {0: false, 7: true}}],
	// << NEW PERK
	PE_GECKO_SKINNING: ["Скорняк", "Вы освоили принципы разделки ящеров и легко обдираете их, чтобы получить ценные шкуры.",
		1, 1, 1,
		function () {},
		function () {},
		{}],
	PE_VAULT_CITY_INOCULATIONS: ["Прививки из Города-Убежище", "Вы получили 10 процентов сопротивляемости к отравлению и радиации.",
		1, 1, 1,
		function () {},
		function () {},
		{}],
	PE_DERMAL_IMPACT: ["Живчик", "Вы имеете повышенную живучесть (+35 ХП) и природное лечение (+20 к Уровню лечения).",
		1, 12, 29,
		function () {pr.add("feats", "live", 35);pr.add("feats", "levh", 20); },
		function () {pr.add("feats", "live", -35);pr.add("feats", "levh", -20); },
		{stats: {ENU: 6, CHA: 3}}],
	PE_DERMAL_IMPACT_ENH: ["Улучшенная подкожная броня", "Вы получили усиленную защиту от атак физического характера.",
		1, 1, 1,
		function () {pr.add("feats", "live", 10);pr.addr("normal", 0, 2);pr.addr("fire", 0, 3);pr.addr("explode", 0, 3); },
		function () {pr.add("feats", "live", -10);pr.addr("normal", 0, -2);pr.addr("fire", 0, -3);pr.addr("explode", 0, -3); },
		{}],
	PE_PHOENIX_IMPLANTS: ["Реаниматор", "Вы отличный врач. Любое изменение очков жизни (неважно, плюс или минус) добавит к ним 5 единицы, при условии, что вы не отравлены.",
		1, 12, 29,
		function () {},
		function () {},
		{skills: {doctor: 200}}],
	PE_PHOENIX_IMPLANTS_ENH: ["Улучшенная подкожная защита", "Вы имеете большую дополнительную защиту против энергетических атак.",
		1, 1, 1,
		function () {pr.add("feats", "live", 10);pr.addr("plasma", 0, 3);pr.addr("electro", 0, 3);pr.addr("laser", 0, 3); },
		function () {pr.add("feats", "live", -10);pr.addr("plasma", 0, -3);pr.addr("electro", 0, -3);pr.addr("laser", 0, -3); },
		{}],
	PE_NCR_PERCEPTION: ["Операция доктора Клауса: Крит", "После операции, проведенной Доктором Клаусом из НКР, ваш шанс крита +4%.",
		1, 1, 1,
		function () {mychar.stats.PER[1]++; },
		function () {mychar.stats.PER[1]--; },
		{}],
	PE_NCR_ENDURANCE: ["Операция доктора Клауса: Антикрит", "После операции, проведенной Доктором Клаусом из НКР, ваша антикрит +4%.",
		1, 1, 1,
		function () {},
		function () {},
		{}],
	PE_NCR_BARTER: ["Секреты мастерства: Бартер", "Вы смогли многому научиться у торговца в Дене. Ваш навык Торговли повышен на 5%.",
		1, 1, 1,
		function () {pr.add("skills", "trade", 5, 1); },
		function () {pr.add("skills", "trade", -5, 1); },
		{}],
	PE_NCR_REPAIR: ["Секреты мастерства: Ремонт", "Механик Модока ознакомил вас с новой технологией починки оружия. Ваш навык Ремонта повышен на 5%.",
		1, 1, 1,
		function () {pr.add("skills", "repair", 5, 1); },
		function () {pr.add("skills", "repair", -5, 1); },
		{}],
	PE_COMPUSTER: ["Золотые руки", "Вам больше не понадобится установка для создания некоторых вещей. Открывает новые возможности в сфере крафта.",
		1, 32, 99,
		function () {},
		function () {},
		{stats: {INT: 8, STR: 8}, skills: {science: 160, repair: 160}}],
	PE_DRIVER: ["Водитель", "Вы настолько освоили автомобиль, что можете возить в нём кого угодно.",
		1, 1, 1,
		function () {},
		function () {},
		{}],
	PE_OFFICER: ["Офицер", "Вы умеете управлять большим отрядом бойцов. Вы получаете +30 ОЖ, а также срез урона на 5% и точность +5%. Используется выносливость при расчете группы. Подавление от оружия делится пополам.",
		1, 15, 29,
		function () {pr.add("feats", "live", 30); },
		function () {pr.add("feats", "live", -30); },
		{stats: {PER: 7, INT: 7}, skills: {ranger: 100}, classes: {6: false, 4: false}}],
 	PE_BISNES_RENO: ["Смотрящий", "Вы теперь один из смотрящих за бизнесом в Нью-Рено.",
		1, 1, 1,
		function () {pr.add("feats", "live", 30 + (skills.oratory[0] > 309 ? 20 : 0));},
		function () {},
		{}],
	// NEW PERK >>
	PE_SPEED: ["Быстрота", "Вам добавляется одно очко действия и -0,3 к регену ОД.",
		1, 9, 29,
		function () {pr.add("feats", "apoi", 1); },
		function () {pr.add("feats", "apoi", -1); },
		{classes: {0: false, 7: true}}],
	// << NEW PERK
	PE_IMP1: ["Боевой имплантант", "В вас вживлен экспериментальный имплантант. Ваши боевые навыки увеличены.",
		1, 1, 1,
		function () {},
		function () {},
		{}],
	PE_IMP2: ["Медицинский имплантант", "В вас вживлен экспериментальный имплантант. Ваши познания в медицине увеличены.",
		1, 1, 1,
		function () {},
		function () {},
		{}],
	PE_IMP3: ["Вспомогательный имплант", "В вас вживлен экспериментальный имплантант. Ваши вспомогательные функции увеличены.",
		1, 1, 1,
		function () {},
		function () {},
		{}],
	PE_COMBAT_ENGINEER: ["Боевой Инженер", "Вы настолько преуспели в инженерном деле, что теперь можете применять эти навыки в бою. Вы получаете +20% к навыку Ремонт и вам доступны особые виды вооружения.",
		1, 12, 29,
		function () {pr.add("skills", "repair", 20, 1); },
		function () {pr.add("skills", "repair", -20, 1); },
		{stats: {PER: 6, INT: 8, AGI: 3}, skills: {repair: 180}}],
	PE_CHAT_OPERATOR: ["Оператор чата", "Вы всё видите и слышите, ведь вы - оператор чата.",
		1, 1, 1,
		function () {},
		function () {},
		{}],
	PE_DA_NORMAL: ["Мастер урона", "Вы освоили огнестрельное оружие, и наносите на 2% больше Урона по цели с каждым уровнем мастера. Добродушный -2% повреждений.",
		1, 1, 1,
		function () {},
		function () {},
		{}],
	PE_DA_LASER: ["Мастер лазера", "Вы освоили лазерное оружие, и наносите на 1% больше Урона по цели с каждым уровнем мастера. Добродушный -2% повреждений.",
		1, 1, 1,
		function () {},
		function () {},
		{}],
	PE_DA_FIRE: ["Мастер огня", "Вы освоили обращение с огнем, и получаете +2 к тикам с каждым уровнем мастера. Добродушный -2% повреждений.",
		1, 1, 1,
		function () {},
		function () {},
		{}],
	PE_DA_PLASMA: ["Мастер плазмы", "Вы освоили плазменное оружие, и получаете +5 к тикам с каждым уровнем мастера. Добродушный -2% повреждений.",
		1, 1, 1,
		function () {},
		function () {},
		{}],
	PE_DA_ELECTRO: ["Мастер электричества", "Вы освоили электро-оружие, и получаете шанс 4% уменьшить ОД врага на 1 единицу с каждым уровнем мастера. Добродушный -2% повреждений.",
		1, 1, 1,
		function () {},
		function () {},
		{}],
	PE_DA_EMP: ["Мастер импульса", "Вы настолько освоили своё оружие, что наносите на 3% больше Урона с каждым уровнем этой способности.",
		1, 1, 1,
		function () {},
		function () {},
		{}],
	PE_DA_EXPLODE: ["Мастер взрыва", "Вы освоили все виды взрывов, и получаете шанс 10% увеличить Радиус взрыва на 1 единицу с каждым уровнем мастера. Добродушный -2% повреждений.",
		1, 1, 1,
		function () {},
		function () {},
		{}],
	// NEW PERK >>
	PE_KEEN: ["Зоркий", "В случае выстрела очередью игнор дыма.",
		1, 2, 29,
		function () {},
		function () {},
		{classes: {0: false, 2: true}}],
	PE_STEELRAIN: ["Стальной дождь", "В радиусе 6 гексов все патроны летят в цель, а сама цель теряет 1 ОД.",
		1, 9, 29,
		function () {},
		function () {},
		{classes: {0: false, 2: true}}],
	// << NEW PERK
	// MASTER PERK >>
	PE_MA_SKIT: ["Житель пустоши", "Вы настолько изучили пустошь, что получаете +5% к навыку Скиталец.",
		1, 1, 1,
		function () {},
		function () {},
		{}],
	PE_MA_REM: ["Опытный ремонтник", "Вы настолько часто ремонтировали, что получаете +3% к навыку Ремонт и +1% к навыку Наука с каждым уровнем этой способности.",
		1, 1, 1,
		function () {},
		function () {},
		{}],
	PE_MA_FIX: ["Опытный инженер", "Вы настолько часто изобретали, что получаете +3% к навыку Наука и +1% к навыку Ремонт с каждым уровнем этой способности.",
		1, 1, 1,
		function () {},
		function () {},
		{}],
	PE_MA_AID: ["Опытный врач", "Вы настолько часто лечили, что получаете +2% к навыку Санитар и +2% к навыку Доктор с каждым уровнем этой способности.",
		1, 1, 1,
		function () {},
		function () {},
		{}],
	// << MASTER PERK
	PE_CLASS: ["Класс персонажа", "1-Разведчик, 2-Пулеметчик, 3-Берсерк, 4-Уворотчик, 5-Танк, 6-Медик, 7-Стрелок",
		1, 1, 1,
		function () {},
		function () {},
		{}],
	PE_SUPPORTER: ["Огневая поддержка", "Стрельба очередями \"Подавляет\" врага. Увеличен радиус Дымовой и Газовой завесы, и область поджигания Кокт. \"Молотова\". Также вы получате +20% к навыку Метательное.",
		1, 12, 29,
		function () {pr.add("skills", "thrown", 20, 1); },
		function () {pr.add("skills", "thrown", -20, 1); },
		{stats: {PER: 7, AGI: 7}, skills: {thrown: 100}, classes: {5: false, 4: false, 1: false}}]
}

// Проверка требований перка
function testPerk(p) {
	// Проверка соответствия уровня
	var obj = perk[p][7];
	var ormode = false;
	if (!emptyObject(obj)) {
		if ("classes" in obj) // Проверка классов
			for(var j in obj.classes) {
				if (obj.classes[j] && charp.class != j) {
					return false;
				} else if (!obj.classes[j] && charp.class == j) {
					return false;
				}
			}
		if ("stats" in obj) // Проверка статов
			for(var j in obj.stats) {
				if ("ormode" in obj && "stats" in obj.ormode) {
					if (j in obj.ormode.stats && stats[j][2] >= obj.stats[j])
						ormode = ormode || true;
				}
				else {
					if (obj.ch && stats[j][2] >= obj.stats[j]) 
						return false;
					else if (!obj.ch && stats[j][2] < obj.stats[j])
						return false;
				}			
			}
	}
	if ("ormode" in obj && !ormode)
		return false;
	return true;
}

function testpp(ss) {
	ss = ss===undefined ? 40 : ss;
	var pp = 122; // количество доступных для взятия перков
	var m = {n: 0, sum: 0, arr: [], max: 0};
	for(var i in stats)	stats[i][2]=1;
	while(1){
		stats.STR[2]++;
		if(stats.STR[2]>10) {stats.STR[2]=1;stats.PER[2]++; }
		if(stats.PER[2]>10) {stats.PER[2]=1;stats.ENU[2]++; }
		if(stats.ENU[2]>10) {stats.ENU[2]=1;stats.CHA[2]++; }
		if(stats.CHA[2]>10) {stats.CHA[2]=1;stats.INT[2]++; }
		if(stats.INT[2]>10) {stats.INT[2]=1;stats.AGI[2]++; }
		if(stats.AGI[2]>10) {stats.AGI[2]=1;stats.LUC[2]++; }
		if(stats.LUC[2]>10)	return m.arr.join(' ')+" "+m.max+"/"+pp+" перков доступно";
		m.sum = 0;
		for(var i in stats)	m.sum += stats[i][2];
		if(m.sum!=ss) continue;
		m.n = 0;
		for(var i in perk)if(testPerk(i)&&perk[i][4]!==1)m.n++;
		if(m.n>m.max){m.max = m.n;m.arr = [];for(var i in stats)m.arr.push(stats[i][2]); }
	}
}